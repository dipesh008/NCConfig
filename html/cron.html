<html lang="en">
<head>
	~include file=_meta.html`
    <title>Manage Cron Jobs</title>
</head>
<body>
    <div id="bodycolumn">
		<!-- Header | Start -->
		~include file=_header.html`
		<!-- Header | End -->
        <div id="BodyContent" class="container">
			<!-- Sub Header | Start -->
			~include file=_subheader.html`
			<!-- Sub Header | End   -->
			~include file=_message.html`
			<form method=post id='cronForm'>
				<input type=hidden id='cronId' name='cronId' value='~$cron.cronId`'>
				<div class='SColumn'>
                    <div class='row-main-drop'>
                        <div class='row-label-main' style='width:180px;'><label for="applicationId" class='row-label'>Application <span class='required'>*</span></label></div>
                        <div class='row-box'>
                            <select id='applicationId' name='applicationId' data-placeholder="Choose Application ..." class="chzn-select selectcl">
                                <option value=""></option>
                                ~section name=i loop=$applications`
                                <option value='~$applications[i].applicationId`' ~if $cron.applicationId eq $applications[i].applicationId`selected~/if`>~$applications[i].applicationGroupName` : ~$applications[i].applicationName`</option>
                                ~/section`
                            </select>
							<label class='error' style='display:none'></label>
                        </div>
						~if $userROLE|in_array:$privilegeList.application.add`
						<a href='#' onclick="lightbox_application('');"><img src='~$IMG_PATH`add.gif' width=22 height=22></a>
						~/if`
						<div class="cl10"></div>
                    </div>

                   <div class='row-main-drop'>
                        <div class='row-label-main' style='width:180px;'><label for="serverId" class='row-label'>Server(s) <span class='required'>*</span></label></div>
                        <div class='row-box'>
							~if $ACTION eq 'edit'`
                            <select id='serverId' name='serverId' data-placeholder="Choose Server(s) ..." class="chzn-select selectcl">
							~else`
                            <select id='serverId' name='serverId[]' data-placeholder="Choose Server(s) ..." class="chzn-select selectcl" multiple>
							~/if`
                                <option value=""></option>
                                ~section name=i loop=$servers`
                                <option value='~$servers[i].serverId`' ~if $cron.serverId eq $servers[i].serverId`selected~/if`>~$servers[i].serverRefName` [ ~$servers[i].serverName` ]</option>
                                ~/section`
                            </select>
                            <label class='error' style='display:none'></label>
                        </div>
                        <div class="cl10"></div>
                    </div>


                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="common_options" class='row-label'>Common Settings </label></div>
                        <div class='row-box'>
							<select onchange="select_common_option()" id="common_options" style="width:300px;height:25px;" class='selectcl'>
                                <option value="--">-- Common Settings --</option>
								<option value="*/15 * * * *">Every 15 minutes (*/15 * * * *)</option>
                                <option value="0,30 * * * *">Twice an hour (0,30 * * * *)</option>
                                <option value="0 * * * *">Once an hour (0 * * * *)</option>
								<option value="0 0,12 * * *">Twice a day (0 0,12 * * *)</option>
								<option value="0 0 * * *">Once a day (0 0 * * *)</option>
                                <option value="0 0 * * 0">Once a week (0 0 * * 0)</option>
                                <option value="0 0 1,15 * *">1st and 15th (0 0 1,15 * *)</option>
                                <option value="0 0 1 * *">Once a month (0 0 1 * *)</option>
                                <option value="0 0 1 1 *">Once a year (0 0 1 1 *)</option>
                            </select>
						</div>
					</div>
                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="minute" class='row-label'>Minute <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="minute" name="minute" value='~$cron.minute`' class='inputcl' style='width:110px;'>

							<select onchange="select_single_option('minute')" id="minute_options" style="width:180px;height:25px;margin-left:5px;" class="selectcl" >
                                <option value="--">-- Common Settings --</option>
                                    <option value="*/15">Every 15 minutes (*/15)</option>
                                    <option value="0,30">Every 30 minutes (0,30)</option>
                                    <option value="--">-- Minutes --</option>
                                    <option value="0">:00 top of the hour (0)</option>
                                    <option value="1">:01 (1)</option>
                                    <option value="2">:02 (2)</option>
                                    <option value="3">:03 (3)</option>
                                    <option value="4">:04 (4)</option>
                                    <option value="5">:05 (5)</option>
                                    <option value="6">:06 (6)</option>
                                    <option value="7">:07 (7)</option>
                                    <option value="8">:08 (8)</option>
                                    <option value="9">:09 (9)</option>
                                    <option value="10">:10 (10)</option>
                                    <option value="11">:11 (11)</option>
                                    <option value="12">:12 (12)</option>
                                    <option value="13">:13 (13)</option>
                                    <option value="14">:14 (14)</option>
                                    <option value="15">:15 quarter past (15)</option>
                                    <option value="16">:16 (16)</option>
                                    <option value="17">:17 (17)</option>
                                    <option value="18">:18 (18)</option>
                                    <option value="19">:19 (19)</option>
                                    <option value="20">:20 (20)</option>
                                    <option value="21">:21 (21)</option>
                                    <option value="22">:22 (22)</option>
                                    <option value="23">:23 (23)</option>
                                    <option value="24">:24 (24)</option>
                                    <option value="25">:25 (25)</option>
                                    <option value="26">:26 (26)</option>
                                    <option value="27">:27 (27)</option>
                                    <option value="28">:28 (28)</option>
                                    <option value="29">:29 (29)</option>
                                    <option value="30">:30 half past (30)</option>
                                    <option value="31">:31 (31)</option>
                                    <option value="32">:32 (32)</option>
                                    <option value="33">:33 (33)</option>
                                    <option value="34">:34 (34)</option>
                                    <option value="35">:35 (35)</option>
                                    <option value="36">:36 (36)</option>
                                    <option value="37">:37 (37)</option>
                                    <option value="38">:38 (38)</option>
                                    <option value="39">:39 (39)</option>
                                    <option value="40">:40 (40)</option>
                                    <option value="41">:41 (41)</option>
                                    <option value="42">:42 (42)</option>
                                    <option value="43">:43 (43)</option>
                                    <option value="44">:44 (44)</option>
                                    <option value="45">:45 quarter til (45)</option>
                                    <option value="46">:46 (46)</option>
                                    <option value="47">:47 (47)</option>
                                    <option value="48">:48 (48)</option>
                                    <option value="49">:49 (49)</option>
                                    <option value="50">:50 (50)</option>
                                    <option value="51">:51 (51)</option>
                                    <option value="52">:52 (52)</option>
                                    <option value="53">:53 (53)</option>
                                    <option value="54">:54 (54)</option>
                                    <option value="55">:55 (55)</option>
                                    <option value="56">:56 (56)</option>
                                    <option value="57">:57 (57)</option>
                                    <option value="58">:58 (58)</option>
                                    <option value="59">:59 (59)</option>
							</select>
							<label class='error' ~if !$errors.minute`style='display:none'~/if` id='error_label'></label>~$errors.minute`
						</div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="hour" class='row-label'>Hour <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="hour" name="hour" value='~$cron.hour`' class='inputcl' style='width:110px;'>
							<select onchange="select_single_option('hour')" id="hour_options" style="width:180px;height:25px;margin-left:5px;" class="selectcl">
                                    <option value="--">-- Common Settings --</option>
                                    <option value="*">Every hour (*)</option>
                                    <option value="*/2">Every other hour (*/2)</option>
                                    <option value="*/3">Every 3 hours (*/3)</option>
                                    <option value="*/4">Every 4 hours (*/4)</option>
                                    <option value="*/6">Every 6 hours (*/6)</option>
                                    <option value="0,12">Every 12 hours (0,12)</option>
                                    <option value="--">-- Hours --</option>
                                    <option value="0">12:00 a.m. midnight (0)</option>
                                    <option value="1">1:00 a.m. (1)</option>
                                    <option value="2">2:00 a.m. (2)</option>
                                    <option value="3">3:00 a.m. (3)</option>
                                    <option value="4">4:00 a.m. (4)</option>
                                    <option value="5">5:00 a.m. (5)</option>
                                    <option value="6">6:00 a.m. (6)</option>
                                    <option value="7">7:00 a.m. (7)</option>
                                    <option value="8">8:00 a.m. (8)</option>
                                    <option value="9">9:00 a.m. (9)</option>
                                    <option value="10">10:00 a.m. (10)</option>
                                    <option value="11">11:00 a.m. (11)</option>
                                    <option value="12">12:00 p.m. noon (12)</option>
                                    <option value="13">1:00 p.m. (13)</option>
                                    <option value="14">2:00 p.m. (14)</option>
                                    <option value="15">3:00 p.m. (15)</option>
                                    <option value="16">4:00 p.m. (16)</option>
                                    <option value="17">5:00 p.m. (17)</option>
                                    <option value="18">6:00 p.m. (18)</option>
                                    <option value="19">7:00 p.m. (19)</option>
                                    <option value="20">8:00 p.m. (20)</option>
                                    <option value="21">9:00 p.m. (21)</option>
                                    <option value="22">10:00 p.m. (22)</option>
                                    <option value="23">11:00 p.m. (23)</option>
                            </select>
						<label class='error' ~if !$errors.hour`style='display:none'~/if` id='error_label'></label>~$errors.hour`</div>
                    </div>


                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="day" class='row-label'>Day <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="day" name="day" value='~$cron.day`' class='inputcl' style='width:110px;'>
							<select onchange="select_single_option('day')" id="day_options" style="width:180px;height:25px;margin-left:5px;" class="selectcl">
                                    <option value="--">-- Common Settings --</option>
                                    <option value="*">Every day (*)</option>
                                    <option value="*/2">Every other day (*/2)</option>
                                    <option value="1,15">1st and 15th (1,15)</option>
                                    <option value="--">-- Days --</option>
                                    <option value="1">1st (1)</option>
                                    <option value="2">2nd (2)</option>
                                    <option value="3">3rd (3)</option>
                                    <option value="4">4th (4)</option>
                                    <option value="5">5th (5)</option>
                                    <option value="6">6th (6)</option>
                                    <option value="7">7th (7)</option>
                                    <option value="8">8th (8)</option>
                                    <option value="9">9th (9)</option>
                                    <option value="10">10th (10)</option>
                                    <option value="11">11th (11)</option>
                                    <option value="12">12th (12)</option>
                                    <option value="13">13th (13)</option>
                                    <option value="14">14th (14)</option>
                                    <option value="15">15th (15)</option>
                                    <option value="16">16th (16)</option>
                                    <option value="17">17th (17)</option>
                                    <option value="18">18th (18)</option>
                                    <option value="19">19th (19)</option>
                                    <option value="20">20th (20)</option>
                                    <option value="21">21st (21)</option>
                                    <option value="22">22nd (22)</option>
                                    <option value="23">23rd (23)</option>
                                    <option value="24">24th (24)</option>
                                    <option value="25">25th (25)</option>
                                    <option value="26">26th (26)</option>
                                    <option value="27">27th (27)</option>
                                    <option value="28">28th (28)</option>
                                    <option value="29">29th (29)</option>
                                    <option value="30">30th (30)</option>
                                    <option value="31">31st (31)</option>
                                </select>
			
						<label class='error' ~if !$errors.hour`style='display:none'~/if` id='error_label'></label>~$errors.hour`</div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="month" class='row-label'>Month <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="month" name="month" value='~$cron.month`' class='inputcl' style='width:110px;'>
							<select onchange="select_single_option('month')" id="month_options" style="width:180px;height:25px;margin-left:5px;" class="selectcl">
                                    <option value="--">-- Common Settings --</option>
                                    <option value="*">Every month (*)</option>
                                    <option value="*/2">Every other month (*/2)</option>
                                    <option value="*/4">Every 3 months (*/4)</option>
                                    <option value="1,7">Every 6 months (1,7)</option>
                                    <option value="--">-- Months --</option>
                                    <option value="1">January (1)</option>
                                    <option value="2">February (2)</option>
                                    <option value="3">March (3)</option>
                                    <option value="4">April (4)</option>
                                    <option value="5">May (5)</option>
                                    <option value="6">June (6)</option>
                                    <option value="7">July (7)</option>
                                    <option value="8">August (8)</option>
                                    <option value="9">September (9)</option>
                                    <option value="10">October (10)</option>
                                    <option value="11">November (11)</option>
                                    <option value="12">December (12)</option>
                            </select>
							<label class='error' ~if !$errors.month`style='display:none'~/if` id='error_label'></label>~$errors.month`</div>
                    </div>


                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="weekday" class='row-label'>Weekday <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="weekday" name="weekday" value='~$cron.weekday`' class='inputcl' style='width:110px;'>
							<select onchange="select_single_option('weekday')" id="weekday_options" style="width:180px;height:25px;margin-left:5px;" class="selectcl">
                                    <option value="--">-- Common Settings --</option>
                                    <option value="*">Every weekday (*)</option>
                                    <option value="1-5">Mon thru Fri (1-5)</option>
                                    <option value="0,6">Sat and Sun (6,0)</option>
                                    <option value="1,3,5">Mon, Wed, Fri (1,3,5)</option>
                                    <option value="2,4">Tues, Thurs (2,4)</option>
                                    <option value="--">-- Weekdays --</option>
                                    <option value="0">Sunday (0)</option>
                                    <option value="1">Monday (1)</option>
                                    <option value="2">Tuesday (2)</option>
                                    <option value="3">Wednesday (3)</option>
                                    <option value="4">Thursday (4)</option>
                                    <option value="5">Friday (5)</option>
                                    <option value="6">Saturday (6)</option>
                            </select>
							<label class='error' ~if !$errors.weekday`style='display:none'~/if` id='error_label'></label>~$errors.weekday`</div>
                    </div>
				
					<!--
                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="user" class='row-label'>Cron User <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" maxlength="50" id="user" name="user" value='~$cron.user`' class='inputcl' style='width:110px;'><br/>
                            <label class='error' ~if !$errors.user`style='display:none'~/if` id='error_label'></label>~$errors.user`
                        </div>
                    </div>-->
                   <div class='row-main-drop'>
                        <div class='row-label-main' style='width:180px;'><label for="user" class='row-label'>Cron User <span class='required'>*</span></label></div>
                        <div class='row-box'>
                            <select id='user' name='user' data-placeholder="Choose cron user ..." class="chzn-select selectcl">
                                <option value=""></option>
                                ~section name=i loop=$cronUsers`
                                <option value='~$cronUsers[i].cronUser`' ~if $cron.user eq $cronUsers[i].cronUser`selected~/if`>~$cronUsers[i].cronUser`</option>
                                ~/section`
                            </select>
                            <label class='error' style='display:none'></label>
                        </div>
                        <div class="cl10"></div>
                    </div>

	
					<!--
                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="completionTime" class='row-label'>Expected Completion Time <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" maxlength="4" id="completionTime" name="completionTime" value='~$cron.completionTime`' class='inputcl' style='width:110px;'> - In Minutes<br/>
                            <label class='error' ~if !$errors.completionTime`style='display:none'~/if` id='error_label'></label>~$errors.completionTime`
                        </div>
                    </div>
					-->

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="maxConcurrency" class='row-label'>Max Concurrency <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" maxlength="2" id="maxConcurrency" name="maxConcurrency" value='~$cron.maxConcurrency`' class='inputcl' style='width:110px;'><br/>
                            <label class='error' ~if !$errors.maxConcurrency`style='display:none'~/if` id='error_label'></label>~$errors.maxConcurrency`
                        </div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="timeAlert" class='row-label'>Time Alert <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" maxlength="3" id="timeAlert" name="timeAlert" value='~$cron.timeAlert`' class='inputcl' style='width:110px;'> - In Minutes<br/>
                            <label class='error' ~if !$errors.timeAlert`style='display:none'~/if` id='error_label'></label>~$errors.timeAlert`
                        </div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="cronOutput" class='row-label'>Cron Output</label></div>
                        <div class='row-box' style='width:400px;'><input type=checkbox id='cronOutput' name='cronOutput' value='Y' ~if $cron.cronOutput eq 'Y' || $cron.cronOutput eq ''`checked~/if`> - Send me the output for this cron even if it is successful<br/>
                            <label class='error' ~if !$errors.timeAlert`style='display:none'~/if` id='error_label'></label>~$errors.timeAlert`
                        </div>
                    </div>



                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="command" class='row-label'>Command <span class='required'>*</span></label></div>
                        <div class='row-box'><input type="text" id="command" name="command" value="~$cron.command`" class='inputcl' style='width:500px;'>
                            <label class='error' ~if !$errors.command`style='display:none'~/if` id='error_label'></label>~$errors.command`
                        </div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="fromEmail" class='row-label'>From Email </label></div>
                        <div class='row-box'><input type="text" maxlength="100" id="fromEmail" name="fromEmail" value='~$cron.fromEmail`' class='inputcl' style='width:500px;'>
                            <label class='error' ~if !$errors.fromEmail`style='display:none'~/if` id='error_label'></label>~$errors.fromEmail`
                        </div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="toEmail" class='row-label'>To Email <span class='required'>*</span></label></div>
                        <div class='row-box' style='width:500px;'><input type="text" id="toEmail" name="toEmail" value='~$cron.toEmail`' class='inputcl' style='width:500px;'>
                            <label class='error' ~if !$errors.toEmail`style='display:none'~/if` id='error_label'></label>~$errors.toEmail`
                        </div>
                    </div>

                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="cronAlias" class='row-label'>Cron Alias </label></div>
                        <div class='row-box'><input type="text" maxlength="100" id="cronAlias" name="cronAlias" value='~$cron.cronAlias`' class='inputcl' style='width:500px;'>
                            <label class='error' ~if !$errors.cronAlias`style='display:none'~/if` id='error_label'></label>~$errors.cronAlias`
                        </div>
                    </div>


                    <div class='row-main'>
                        <div class='row-label-main' style='width:180px;'><label for="comment" class='row-label'>Comments <span class='required'>*</span></label></div>
                        <div class='row-box'>
                            <textarea class='inputcl' style='height:50px;width:500px;' id='comment' name='comment'>~$cron.comment`</textarea>
                            <label class='error' ~if !$errors.comment`style='display:none'~/if` id='error_label'></label>~$errors.comment`
                        </div>
                    </div>


					<div style='float:right;margin-bottom:5px;'><span class='required'>*</span> Required fields&nbsp;&nbsp;&nbsp;</div>
					<div class="cl10"></div>
				</div>
				<div class="NavigationButtons">
					<button class="NextButton" id="NextButton" name='submit' value='submit'>~if $ACTION eq 'edit'`Edit Cron Job~else`Add Cron Job~/if`</button>
				</div>
			</form>
		</div>
    </div>
	<!-- Lightbox - Application | START -->
	~include file=_application.html`
	<!-- Lightbox - Application | END -->

    <!-- Footer | Start -->
    ~include file=_footer.html`
    <!-- Footer | End -->
	<script>drop_down();</script>
</body>
</html>
